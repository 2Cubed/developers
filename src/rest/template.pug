include ./resource.pug
.row.rest-doc(data-spy="scroll" data-target="#sidebar")
    .col-md-9(role="main")
        .page-header
            p= rest.baseUri
            //- This doesn't seem to generate any code, I've commented it out for now:
            //- if rest.documentation
            //-     for chapter in rest.documentation
            //-         h3(id=chapter.uniqueId, href=`#${chapter.uniqueId}`)=chapter.title
            //-         | !{marked(chapter.content)}

        h2 Endpoints
        for resource in rest.resources
            a(name=resource.uniqueId)
            .panel.panel-default.panel-rest
                a.panel-reference.icon.icon-link-1(href='#' + resource.uniqueId)
                .panel-heading
                    h3.panel-title=resource.displayName || resource.relativeUri
                .panel-body
                    if resource.description
                        .top-resource-description!= marked(resource.description)
                    .panel-group
                        +resource(resource)

        h2 Models &amp; Types
        for type, name in rest.types
            a(name=name)
            .panel.panel-default.panel-rest
                a.panel-reference.icon.icon-link-1(href='#' + name)
                .panel-heading
                    h3.panel-title= type.displayName
                .panel-body
                    +typeDetails(name)

    .col-md-3
        .hidden-print(data-scroll-stick, role="complementary", style="padding:1px")
            h3 Endpoints
            ul.nav.nav-pills.nav-stacked
                for resource in rest.resources
                    li
                        a(href='#' + resource.uniqueId)= resource.displayName || resource.relativeUri
            h3 Types
            ul.nav.nav-pills.nav-stacked
                for type, name in rest.types
                    li
                        a(href='#' + type.name)= type.displayName

